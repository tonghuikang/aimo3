# PE 418 Annotation Findings

## Problem Summary
Find `f(43!) mod 99991`, where `f(n)` is `a+b+c` for the unique ordered factorization triple `(a,b,c)` with `a<=b<=c`, `abc=n`, minimizing `c/a`.

## Correct Answer
- `f(43!) mod 99991 = 189`

## Correct Approach
- Rewrite objective: with `c = n/(ab)`, minimizing `c/a` is equivalent to maximizing `a^2 b`.
- For each feasible divisor `a <= floor(n^(1/3))`, let `m = n/a` and choose `b` as the largest divisor of `m` such that `a <= b <= floor(sqrt(m))`; then `c = m/b`.
- Compare candidates by maximizing `a^2 b` (equivalently minimizing `c/a`).
- Use exact branch-and-bound/divisor search (not heuristics) to evaluate candidates and compute the final triple.

## Correct Triple for `43!`
- `a = 392386762388275200`
- `b = 392388272221065120`
- `c = 392388530688000000`
- `a+b+c = 1177163565297340320`
- `(a+b+c) mod 99991 = 189`

## Wrong Approach 1 (Heuristic log balancing / greedy partition)
- Method: split prime-factor copies across three bins by balancing logs (greedy/LPT-style), plus local/random search.
- Why it fails: this only approximates equal logs and does not guarantee maximization of `a^2 b`.
- Wrong output observed: `34483`.

## Wrong Approach 2 (Optimize largest feasible `a` instead of `a^2 b`)
- Method: search for the largest feasible `a` near `n^(1/3)`, then pick best feasible `b` for that `a`.
- Why it fails: objective is not “maximize `a`”; a slightly smaller `a` can yield larger `a^2 b` through better `b`.
- Wrong output observed: `45151`.
