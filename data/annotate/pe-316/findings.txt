# Findings for pe-316

Correct answer
- \(\sum_{n=2}^{999999} g(\lfloor 10^{16}/n \rfloor) \bmod 99991 = 2602\).

Correct approach
- Let \(s\) be the decimal string of an integer \(m\), with length \(d\).
- Let \(B(s)=\{i\in[1,d] : \text{prefix}_i(s)=\text{suffix}_i(s)\}\) (all border lengths, including \(d\)).
- The standard pattern-matching expectation gives the expected end position:
  \[E_{\text{end}}(m)=\sum_{i\in B(s)}10^i.\]
- The problem defines \(g(m)\) using the start index \(k\), so:
  \[g(m)=E_{\text{end}}(m)-(d-1)=\sum_{i\in B(s)}10^i-(d-1).\]
- Check against the statement example: for \(m=535\), \(B=\{1,3\}\), so
  \(g(535)=10^1+10^3-(3-1)=1008\).
- Then compute
  \[S=\sum_{n=2}^{999999} g\!\left(\left\lfloor\frac{10^{16}}{n}\right\rfloor\right)\]
  directly over \(n\in[2,999999]\) (string length at most 16), and reduce modulo 99991.
- The same formula also reproduces the provided checksum
  \(\sum_{n=2}^{999} g(\lfloor 10^6/n \rfloor)=27280188\), confirming correctness.

Wrong approaches
- Using \(g_{\text{wrong}}(m)=\sum_{i\in B(s)}10^i\) (end index, not start index).
  This gives \(g(535)=1010\), contradicting the problemâ€™s \(1008\).
- Under that wrong formula, the checksum becomes 27283290 instead of 27280188.
- Under that wrong formula, the target sum modulo 99991 is 14596 (wrong), not 2602.
- Interpreting the sample as inconsistent is a consequence of this start-vs-end indexing mistake.
