Problem: Project Euler 710 - Find least n > 42 such that t(n) is divisible by 1,000,000, give answer mod 99,991.

Correct answer: 75108 (corresponding to n = 1,275,000; 1275000 mod 99991 = 75108)

Key approach:
1. Define p(n) = total palindromic compositions of n = 2^{floor(n/2)}
2. Define q(n) = palindromic compositions of n with NO part equal to 2
3. t(n) = p(n) - q(n)

For q(n), define a(s) = number of compositions of s using parts != 2:
- a(0)=1, a(1)=1, a(2)=1
- Recurrence: a(n) = 2a(n-1) - a(n-2) + a(n-3) for n >= 3
- Generating function: A(x) = (1-x)/(1 - 2x + x^2 - x^3)

Define S(k) = sum_{i=0}^{k} a(i), with S(-1) = 0.

Formulas for q(n):
- If n = 2M (even): q(2M) = a(M) + S(M-2)
  (Must exclude central element = 2 from odd-length palindromes; since n even, c = n-2s is always even, so c=2 corresponds to s=M-1 which must be excluded)
- If n = 2M+1 (odd): q(2M+1) = S(M)
  (For odd n, central element is always odd, so c != 2 automatically)

Thus:
- t(2M) = 2^M - a(M) - S(M-2)
- t(2M+1) = 2^M - S(M)

Key subtlety:
- When deriving q(n) for even n, the naive formula overcounts by including palindromes whose central element equals 2. This is why `S(M-1)` is wrong and must become `S(M-2)`.
- Equivalent correction: remove the term corresponding to center `c=2`, i.e., remove `a(M-1)` from the odd-length contribution for even n.

Computation: Search n > 42 where t(n) â‰¡ 0 (mod 10^6) by computing a(k) and S(k) modulo 10^6 iteratively. The first such n is 1,275,000 (even, M = 637,500).

The sequence a(k) mod 10^6 has period 1,050,000. Sum over one period is 0 mod 10^6, so S(k) is also periodic with same period. Combined with period of 2^k mod 10^6 being 12,500 (which divides 1,050,000), the full period for t(n) mod 10^6 is at most 2,100,000 in n.

Wrong approaches and why they fail:
- Wrong total-palindrome formula: using `p(n)=2^{floor((n-1)/2)}` misses even-length contributions. Example: gives `p(6)=4` instead of `8`, so downstream `t(n)` values are wrong.
- Wrong no-2 even formula: using `q(2M)=a(M)+S(M-1)` includes center `2`; at `n=6` this gives `q(6)=5` and `t(6)=3` (incorrect; should be `4`).
- Wrong period transfer: treating the `m`-period `1,050,000` as an `n`-period can imply a false repeat candidate (`1275000-1050000=225000`), but `t(225000) mod 10^6 != 0`. The correct period in `n` is `2,100,000`.
