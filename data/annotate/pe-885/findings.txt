# pe-885 findings

## Correct answer
- `S(18) mod 1123455689 = 827850196`.

## Correct approach
- Group integers by non-zero digit counts `c1..c9` (let `k = c1+...+c9`) and zero count `cz`.
- For fixed `(c1..c9, cz)` with total length `L = k+cz`, the number of valid length-`L` integers (no leading zero) is:
  - `Count(cz,c) = k * (L-1)! / (cz! * Π ci)`.
- Sum over `cz = 0..n-k` to eliminate zero-count explicitly:
  - `Σ Count(cz,c) = (k! / Π ci!) * C(n,k) = n! / ((n-k)! * Π ci!)`.
- For fixed `c1..c9`, `f(d)` is the ascending concatenation value
  - `X(c) = Σ_{i=1..9} i * 10^{s_i} * (10^{ci}-1)/9`, where `s_i = Σ_{j>i} cj`.
  - This places smaller digits in more significant positions (true ascending order).
- Therefore
  - `S(n) = Σ_{c1..c9 >= 0, 1 <= k <= n} X(c) * (k! / Π ci!) * C(n,k)`.
- With `n=18`, direct enumeration of all `c1..c9` with `k <= 18` is feasible and reproduces checkpoints (`S(1)=45`, `S(5)=1543545675`) before computing the final modulo result.

## Wrong approaches and failures
- **Reversed place-value construction for `X(c)`**:
  - Using prefix counts (`sum of smaller digits`) as powers makes small digits less significant.
  - Example: `c1=1, c2=1` incorrectly gives `21` instead of `12`.
  - This inflates totals (e.g., `S(2)=5625` instead of `3465`).
- **Incorrect recursion domain (extra bucket / wrong sum constraint)**:
  - Treating non-zero digit recursion as 10 buckets or forcing exact total instead of `k <= n` causes overcount.
  - Symptom: `S(1)=55` instead of `45`.
- **Misdiagnosing the mismatch as counting-bijection failure**:
  - The multiplicity formula is correct; the real issues are `X(c)` digit order and recursion bounds.
