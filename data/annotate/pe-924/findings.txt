# PE 924: Larger Digit Permutation II - Findings

## Correct Answer
811141860

## Correct Approach
- Write `B(a_n) = a_n + \delta_n`, where `\delta_n = B(a_n)-a_n` (negative for `n=1,2` because `B(a_n)=0`).
- Compute `\sum a_n (mod p)` with `p = 10^9+7` using cycle detection on
  `a_n = a_{n-1}^2 + 2 (mod p)`:
  - preperiod length `39910`
  - period `21353` (cycle starts at `n=39911`)
- Compute `\sum \delta_n (mod p)` from decimal-tail dynamics:
  - `\delta_n` is determined by the next-permutation pivot/suffix
  - suffix length is not globally bounded by 3 digits
  - use a sufficiently large decimal modulus (e.g. `10^11` or larger with validated coverage) so suffix detection is always inside the tracked tail
  - one valid setup gives preperiod `4`, period `15,625,000` for the tail state
- Combine:
  - `U(N) = (\sum a_n + \sum \delta_n) mod p`
- Validate by reproducing the given check:
  - `U(10) = 543870437`

## Wrong Approaches
- Assuming `\delta_n` depends only on `a_n mod 1000` (last 3 digits), then using period `40`.
  This misses cases where the rightmost non-increasing suffix is longer than 3 digits.
- Extrapolating a small-`n` suffix pattern to all `n`.
- Verifying only small ranges without checking suffix-length coverage across the full periodic tail state.

## Wrong Answers Observed
- `517851026` (from the mod-1000 / period-40 delta model)
- `384101118` (same core 3-digit-suffix assumption)
