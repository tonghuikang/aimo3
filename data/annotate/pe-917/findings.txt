# PE 917 Annotation Findings

## Problem Summary
We need the minimal monotone path sum from \((1,1)\) to \((N,N)\) in
\(M_{i,j}=a_i+b_j\), where
- \(s_1=102022661\)
- \(s_n=s_{n-1}^2 \bmod 998388889\)
- \(a_i=s_{2i-1}\), \(b_i=s_{2i}\)

## Correct Answer
- \(A(10^7)=9986212680734636\)

## Correct Approach
1. Decompose the cell-DP:
   - Let \(A_i=\sum_{k=1}^i a_k\), \(B_j=\sum_{k=1}^j b_k\).
   - Write \(DP(i,j)=A_i+B_j+D(i,j)\).
2. Then \(D\) satisfies edge-cost DP:
   - \(D(1,1)=0\)
   - \(D(i,j)=\min(D(i-1,j)+b_j,\ D(i,j-1)+a_i)\)
3. Therefore:
   - \(A(N)=\sum_{i=1}^N a_i+\sum_{i=1}^N b_i+D(N,N)\).
4. Generate \(a_i,b_i\) in one pass:
   - \(a_1=s_1\)
   - \(b_i=a_i^2 \bmod M\)
   - \(a_{i+1}=b_i^2 \bmod M\), with \(M=998388889\).
5. Efficient computation of \(D(N,N)\): use compressed candidate rows/columns formed by union of prefix-minima and suffix-minima indices of \(a\) and \(b\), then run DP on that compressed grid.

## Wrong Approaches And Why They Fail
- Local greedy move rule (choose right/down from current \(a_i\), \(b_j\)):
  - Not globally optimal; fails on small counterexamples.
- Assuming all-right-then-down is always optimal:
  - Formula \(D(N,N)=(N-1)(a_1+b_N)\) is true for some \(N\), false for many others.
- Using only suffix-minima candidates for compression:
  - Misses required pivot rows/columns; overestimates \(D(N,N)\).
- Incorrect DP update/indexing bug in intermediate code:
  - Produced wrong \(D(2)=763622921\) instead of \(430987900\).

## Known Wrong Final Outputs Observed
- 226506299629983437
- 0
