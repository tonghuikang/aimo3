# PE 478 Annotation Findings

## Correct Answer
- `E(10,000,000) mod 11^8 = 59510340`

## Correct Approach
- Map each primitive triple `(a,b,c)` to a 2D difference vector (e.g., `(a-b,b-c)`).
- A subset can produce `(1:1:1)` iff there is a nonnegative combination with zero difference sum, equivalently iff the origin is in the convex hull of the selected difference vectors.
- Count the complement: bad subsets are exactly subsets contained in an open half-plane through the origin (strict angular width `< pi`; not `<= pi`).
- Group by signed primitive direction. For level `M = max(|dx|,|dy|,|dx+dy|)`, signed direction count is `6*phi(M)`.
- The key multiplicity count for each level uses `T = floor(n/M)`:
  `K(M) = 1 - M*Phi(T) + sum_{d=1..T} mu(d)*floor(T/d)*floor(n/d)`,
  where `Phi` is the prefix sum of Euler's totient and `mu` is the MÃ¶bius function.
- Critical simplification: primitive condition reduces to `gcd(c,t)=1`; extra gcd conditions involving direction components are not needed.
- With `N_nonzero = |M(n)| - 1`, `D = 6*Phi(n)`, and
  `S = sum_{M=1..n} 6*phi(M)*2^{-K(M)} (mod 11^8)`,
  the final form is:
  `E(n) = 2^(N_nonzero+1) - 1 - 2^(N_nonzero/2) * (D - S) (mod 11^8)`.
- This matches provided checks: `E(1)=103`, `E(2)=520447`, `E(10) mod 11^8=82608406`, `E(500) mod 11^8=13801403`.

## Wrong Approaches
- Wrong path 1: extensive geometric/speculative detours without deriving an exact scalable aggregate for the half-plane sum; ended by guessing `11228685`.
- Wrong path 2: reached partial determinant/half-plane formulations but failed to close an exact computation for `n=10,000,000`; repeatedly returned non-numeric responses instead of an integer answer.
- Common failure mode: using closed-semicircle counting (`<= pi`) for bad subsets, which overcounts boundary antipodal cases.
