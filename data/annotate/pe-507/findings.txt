# PE 507 - Findings

## Problem Summary
Given tribonacci residues `r_n = t_n mod 10^7`, each block of 12 residues defines vectors
`V_n=(v1,v2,v3)` and `W_n=(w1,w2,w3)`.  
For each `n`, `S(n)` is the minimum non-zero Manhattan norm of lattice vectors
`k*V_n + l*W_n` over integer `(k,l) != (0,0)`.  
Target: compute `sum_{n=1}^{20,000,000} S(n)`.

## Correct Answer
`316558047002627270`

## Correct Approach
1. Compute tribonacci residues modulo `10^7` in a streaming way (rolling recurrence), processing one 12-term block per `n` with `O(1)` memory.
2. For each block, form `V_n` and `W_n` exactly as defined (products are not reduced mod `10^7`).
3. Treat `S(n)` as a shortest-vector problem in the rank-2 lattice `L_n = {kV_n + lW_n}` under L1 norm.
4. Apply 2D Gauss/Lagrange reduction to basis `(V_n, W_n)` using nearest-integer updates (`mu = round(dot/||b1||^2)`, implemented safely with integer tie-to-even rounding).
5. After reduction, evaluate non-zero L1 norms of candidate vectors:
   - `b1`
   - `b2`
   - `b1 + b2`
   - `b1 - b2`
   (and optionally original `V_n`, `W_n`, which do not change the minimum when the reduced set is handled correctly).
6. `S(n)` is the minimum of those candidate norms. Accumulate through `n=20,000,000`.
7. Validation checkpoints:
   - `S(1) = 32`
   - `sum_{n=1}^{10} S(n) = 130762273722`

## Wrong Approaches And Why They Fail
- **Using `S(n)=min(||V_n||_1, ||W_n||_1)`**:
  misses lattice combinations that dramatically reduce the norm; fails the `n<=10` checksum by a large margin.

- **Forcing third-coordinate cancellation (`k*v3 + l*w3 = 0` or gcd-first reasoning)**:
  optimizes one coordinate only; often requires large coefficients that blow up the first two coordinates, so it does not solve the true L1 objective.

- **Reduced-basis but incomplete candidate set (`{b1, b2, V, W}` only)**:
  misses cases where `b1+b2` or `b1-b2` is the true L1 minimum. This produces an overestimated final sum; one observed wrong total is:
  `318293154948310412`.

- **Inferring large-period formulas from small-modulus experiments**:
  not a correctness argument for this objective and not needed once the direct `O(N)` block-stream + reduced-candidate method is in place.
