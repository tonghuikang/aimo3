# PE 799: Pentagonal Puzzle

## Correct Answer
- `53084`

## Correct Approach
- Let `P_n = n(3n-1)/2` and set:
  - `x = 6i - 1`
  - `y = 6j - 1`
  - `z = 6k - 1`
- From `P_i + P_j = P_k`, use `P_n = ((6n-1)^2 - 1)/24` to get:
  - `x^2 + y^2 = z^2 + 1`
  - with `x, y, z ≡ 5 (mod 6)`.
- So for each candidate `z`, factor `z^2 + 1` (all odd prime factors are `1 (mod 4)`), and count representations as sums of two squares with the extra residue restriction `x ≡ y ≡ 5 (mod 6)`.
- The unrestricted sum-of-two-squares count is governed by `∏(e_i+1)` from the factorization `z^2+1 = 2 * ∏ p_i^{e_i}` (`p_i ≡ 1 mod 4`), but the mod-6 restriction must be checked exactly (heuristic fractions are not reliable).
- Exact counting over CRT/factorization candidates gives the first valid case at:
  - `z = 162252407`
  - `k = (z+1)/6 = 27042068`
  - number of valid representations `= 108 (>100)`.
- Then compute `P_k mod 99991 = 53084`.

## Wrong Approaches
- **Heuristic residue split treated as exact**
  - Assuming a fixed fraction (for example `1/4` or `1/3`) of sum-of-two-squares representations satisfy `x ≡ y ≡ 5 (mod 6)` leads to wrong thresholds and wrong candidate selection.
  - This misguides prime-count targets and can over/underestimate required factor complexity.

- **Incomplete minimality search over prime constraints**
  - Restricting to limited subset families (for example fixed-size subsets from only the first few `1 mod 4` primes) without covering prime-power constraints and wider combinations misses smaller valid `z`.
  - Produced wrong final modulo answer: `31582`.

- **Using first 10-prime CRT construction as final without exact validation**
  - Constructing a large CRT candidate and assuming it is globally minimal (and sufficient) without exact restricted-count verification yields an incorrect final result.
  - Produced wrong final modulo answer: `11097`.
